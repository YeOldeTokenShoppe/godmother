import { log } from "./utils.js";
import { SHOW_FRAME, IS_DEBUG } from "./config.js";
export const createFrame = options => {
    const iframe = document.createElement("iframe");
    iframe.src = options.sandbox;
    iframe.id = "__webview";
    iframe.title = options.sandbox_title ?? "Sandbox";
    iframe.name = `${options.sandbox_title ?? "Sandbox"} (${Date.now()})`;
    iframe.setAttribute("sandbox", "allow-scripts allow-same-origin allow-popups");
    iframe.referrerPolicy = "strict-origin-when-cross-origin";
    log(`iframe.src = ${options.sandbox}`);
    if (!IS_DEBUG || !SHOW_FRAME) {
        iframe.width = "0";
        iframe.height = "0";
        iframe.style.border = "0";
    }
    return iframe;
};
